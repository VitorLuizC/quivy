!function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory():"function"==typeof define&&define.amd?define("quivy",[],factory):"object"==typeof exports?exports.quivy=factory():root.quivy=factory()}(this,function(){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.i=function(value){return value},__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=3)}([function(module,__webpack_exports__,__webpack_require__){"use strict";function animate(animation){var instance={animation:animation,id:null};return{get animation(){return instance.animation},set animation(animation){instance.animation=animation},stop:stop.bind(instance),start:start.bind(instance)}}function stop(){return null!==this.id&&(cancelAnimationFrame(this.id),this.id=null,!0)}function start(){return null===this.id&&(this.id=requestAnimationFrame(this.animation),run.call(this),!0)}function run(){this.animation(),this.id=requestAnimationFrame(run.bind(this))}__webpack_exports__.a=animate},function(module,__webpack_exports__,__webpack_require__){"use strict";function create(target,options){var element=document.createElement("canvas"),parent=element(target);return parent instanceof HTMLElement?(parent.appendChild(element),select(element,options)):void console.log("Can't append <canvas> to \""+element+'"')}function select(target){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},element=element(target);if(!(element instanceof HTMLCanvasElement))return void console.log("Can't get <canvas>");var _options$width=options.width,width=void 0===_options$width?640:_options$width,_options$height=options.height,height=void 0===_options$height?480:_options$height,_options$context=options.context,context=void 0===_options$context?"2d":_options$context,attributes=options.attributes;return element.width=width,element.height=height,{element:element,context:element.getContext(context,attributes)}}Object.defineProperty(__webpack_exports__,"__esModule",{value:!0}),__webpack_exports__.create=create,__webpack_exports__.select=select},function(module,__webpack_exports__,__webpack_require__){"use strict";function add(name,source){var type=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"image",inCache=cache.hasOwnProperty(name),inResourcesList=resources.find(function(resource){return resource.name===name});if(inCache)throw new Error('Resource "'+name+'" already exists in cache.');if(inResourcesList)throw new Error('Resource "'+name+"\" already exists and hasn't loaded yet.");var item=null;switch(type){case"image":item=new Image;break;case"audio":item=new Audio;break;case"video":item=new Video;break;default:throw new Error('Invalid resource type "'+type+'".')}return resources.push({name:name,source:source,item:item}),{cache:cache,add:add,load:load}}function loadResource(resource){var name=resource.name,source=resource.source,item=resource.item,eventHandler=function(callback){return function(event){callback(event),event.preventDefault(),event.stopPropagation()}};return new Promise(function(resolve,reject){var message='Error on loading "'+name+'" resource. From "'+source+'".',onError=eventHandler(function(event){return reject(new Error(message))}),onSuccess=eventHandler(function(event){return resolve(resource)});item.addEventListener("load",onSuccess),item.addEventListener("abort",onError),item.addEventListener("error",onError),item.src=source})}function load(){var total=resources.length,loaded=0;return new Promise(function(resolve,reject){for(var i=0;i<total;i++){loadResource(resources.pop()).then(function(resource){cache[resource.name]=resource.item,++loaded===total&&resolve(cache)}).catch(function(error){reject(error)})}})}function onLoading(resource,loaded,total){}function onLoad(cache){}function onError(error){}Object.defineProperty(__webpack_exports__,"__esModule",{value:!0}),__webpack_require__.d(__webpack_exports__,"cache",function(){return cache}),__webpack_require__.d(__webpack_exports__,"add",function(){return add}),__webpack_require__.d(__webpack_exports__,"load",function(){return load}),__webpack_require__.d(__webpack_exports__,"onLoading",function(){return onLoading}),__webpack_require__.d(__webpack_exports__,"onLoad",function(){return onLoad}),__webpack_require__.d(__webpack_exports__,"onError",function(){return onError});var cache={},resources=[]},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0__loader_js__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__animate_js__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_2__canvas_js__=__webpack_require__(1);__webpack_require__.d(__webpack_exports__,"loader",function(){return __WEBPACK_IMPORTED_MODULE_0__loader_js__}),__webpack_require__.d(__webpack_exports__,"animate",function(){return __WEBPACK_IMPORTED_MODULE_1__animate_js__.a}),__webpack_require__.d(__webpack_exports__,"canvas",function(){return __WEBPACK_IMPORTED_MODULE_2__canvas_js__})}])});